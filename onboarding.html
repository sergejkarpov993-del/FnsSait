<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è ‚Äî ComplianceRadar</title>
<link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;500&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  :root{--black:#0a0a0a;--white:#f5f2eb;--accent:#c8392b;--accent-light:#e8503f;--gold:#b8972a;--mid:#2a2a2a;--gray:#6b6b6b;--border:rgba(200,190,170,0.2);--green:#4caf7d;}
  *{margin:0;padding:0;box-sizing:border-box;} html{scroll-behavior:smooth;}
  body{background:var(--black);color:var(--white);font-family: 'Inter', system-ui, -apple-system, sans-serif;min-height:100vh;}
  body::before{content:'';position:fixed;inset:0;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");pointer-events:none;z-index:9999;opacity:0.4;}
  header{position:sticky;top:0;z-index:100;display:flex;align-items:center;justify-content:space-between;padding:20px 48px;border-bottom:1px solid var(--border);backdrop-filter:blur(16px);background:rgba(10,10,10,0.85);}
  .logo{font-family:'JetBrains Mono',monospace;font-size:13px;font-weight:500;letter-spacing:.15em;text-transform:uppercase;color:var(--white);display:flex;align-items:center;gap:10px;text-decoration:none;}
  .logo-dot{width:8px;height:8px;background:var(--accent);border-radius:50%;animation:pulse 2s ease-in-out infinite;}
  @keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.4;transform:scale(.7)}}
  .progress-wrap{display:flex;align-items:center;gap:8px;}
  .progress-step{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.1em;display:flex;align-items:center;gap:6px;color:var(--gray);}
  .progress-step.active{color:var(--white);}
  .progress-step.done{color:var(--green);}
  .step-dot{width:20px;height:20px;border:1px solid var(--border);display:flex;align-items:center;justify-content:center;font-size:9px;font-family:'JetBrains Mono',monospace;}
  .progress-step.active .step-dot{border-color:var(--white);background:rgba(255,255,255,.06);}
  .progress-step.done .step-dot{border-color:var(--green);color:var(--green);}
  .progress-line{width:32px;height:1px;background:var(--border);}
  .main{max-width:900px;margin:0 auto;padding:64px 48px 120px;}
  .step-panel{display:none;animation:fadeIn .4s ease;}
  .step-panel.active{display:block;}
  @keyframes fadeIn{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
  .step-tag{font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.2em;text-transform:uppercase;color:var(--gold);margin-bottom:16px;display:flex;align-items:center;gap:12px;}
  .step-tag::before{content:'';display:inline-block;width:24px;height:1px;background:var(--gold);}
  .step-title{font-size:clamp(28px,3.5vw,44px);font-weight:700;line-height:1.1;margin-bottom:12px;}
  .step-sub{font-size:16px;line-height:1.7;color:rgba(245,242,235,.55);margin-bottom:48px;max-width:560px;}
  .industry-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1px;background:var(--border);border:1px solid var(--border);margin-bottom:40px;}
  .industry-card{background:#0d0d0d;padding:32px 28px;cursor:pointer;transition:background .2s;position:relative;user-select:none;}
  .industry-card:hover{background:#131313;}
  .industry-card.selected{background:#111;}
  .industry-card.selected::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:var(--gold);}
  .industry-card.selected::after{content:'‚úì';position:absolute;top:16px;right:16px;font-family:'JetBrains Mono',monospace;font-size:12px;color:var(--gold);}
  .ind-icon{margin-bottom:14px;}
  .ind-name{font-size:17px;font-weight:700;margin-bottom:6px;}
  .ind-desc{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.06em;color:var(--gray);line-height:1.5;}
  .tags-section{margin-bottom:32px;}
  .tags-label{font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.15em;text-transform:uppercase;color:var(--gray);margin-bottom:16px;display:block;}
  .tags-grid{display:flex;flex-wrap:wrap;gap:8px;}
  .tag-btn{font-family:'JetBrains Mono',monospace;font-size:11px;letter-spacing:.08em;padding:8px 16px;border:1px solid var(--border);background:transparent;color:var(--gray);cursor:pointer;transition:all .2s;user-select:none;}
  .tag-btn:hover{border-color:rgba(200,190,170,.4);color:var(--white);}
  .tag-btn.selected{border-color:var(--gold);color:var(--gold);background:rgba(184,151,42,.08);}
  .tag-btn.recommended{border-color:rgba(184,151,42,.3);color:rgba(184,151,42,.6);}
  .tag-btn.recommended.selected{border-color:var(--gold);color:var(--gold);background:rgba(184,151,42,.08);}
  .recommended-label{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.1em;text-transform:uppercase;color:var(--gold);margin-bottom:10px;display:flex;align-items:center;gap:8px;}
  .recommended-label::before{content:'‚òÖ';}
  .notif-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:32px;}
  .notif-card{border:1px solid var(--border);padding:24px;cursor:pointer;transition:all .2s;background:#0d0d0d;user-select:none;position:relative;}
  .notif-card:hover{border-color:rgba(200,190,170,.4);}
  .notif-card.selected{border-color:var(--white);background:#111;}
  .notif-card.selected::after{content:'‚úì';position:absolute;top:14px;right:14px;font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--white);}
  .notif-icon{margin-bottom:12px;}
  .notif-name{font-size:15px;font-weight:700;margin-bottom:4px;}
  .notif-desc{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--gray);letter-spacing:.04em;line-height:1.5;}
  .selected-summary{background:rgba(184,151,42,.06);border:1px solid rgba(184,151,42,.2);padding:20px 24px;margin-bottom:32px;}
  .summary-label{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.12em;text-transform:uppercase;color:var(--gold);margin-bottom:10px;}
  .summary-tags{display:flex;flex-wrap:wrap;gap:6px;}
  .summary-tag{font-family:'JetBrains Mono',monospace;font-size:10px;letter-spacing:.06em;color:var(--gold);border:1px solid rgba(184,151,42,.3);padding:3px 10px;}
  .bottom-nav{position:fixed;bottom:0;left:0;right:0;border-top:1px solid var(--border);backdrop-filter:blur(16px);background:rgba(10,10,10,0.9);padding:20px 48px;display:flex;justify-content:space-between;align-items:center;z-index:50;}
  .nav-hint{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--gray);letter-spacing:.06em;}
  .nav-btns{display:flex;gap:12px;}
  .btn-back{font-family:'JetBrains Mono',monospace;font-size:12px;letter-spacing:.1em;text-transform:uppercase;padding:12px 24px;background:transparent;color:var(--gray);border:1px solid var(--border);cursor:pointer;transition:all .2s;}
  .btn-back:hover{color:var(--white);border-color:var(--white);}
  .btn-next{font-family:'JetBrains Mono',monospace;font-size:12px;letter-spacing:.1em;text-transform:uppercase;padding:12px 32px;background:var(--accent);color:var(--white);border:none;cursor:pointer;transition:background .2s,transform .1s;display:flex;align-items:center;gap:8px;}
  .btn-next:hover{background:var(--accent-light);transform:translateY(-1px);}
  .btn-next:disabled{opacity:.4;cursor:not-allowed;transform:none;}
  @media(max-width:768px){header{padding:16px 20px;}.main{padding:40px 20px 100px;}.industry-grid{grid-template-columns:1fr 1fr;}.notif-grid{grid-template-columns:1fr;}.bottom-nav{padding:16px 20px;}.progress-wrap .progress-step span{display:none;}}
  @media(max-width:480px){.industry-grid{grid-template-columns:1fr;}}

    /* ‚îÄ‚îÄ –ß–ò–¢–ê–ï–ú–û–°–¢–¨: –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–û–ü–†–ï–î–ï–õ–ï–ù–ò–Ø ‚îÄ‚îÄ */
    body {
      font-family: 'Inter', system-ui, -apple-system, sans-serif !important;
      font-size: 15px;
      line-height: 1.7;
      letter-spacing: 0 !important;
    }
    h1, h2, h3, h4 {
      font-family: 'Libre Baskerville', Georgia, serif !important;
      letter-spacing: -0.01em;
    }
    /* –¢–æ–ª—å–∫–æ –º–µ—Ç–∫–∏, —Ç–µ–≥–∏, –∫–Ω–æ–ø–∫–∏ ‚Äî –º–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π */
    .form-tag, .step-tag, .section-num, .stat-label, .doc-source,
    .filter-btn, .tag-item, .badge, .nav-link, .logo,
    code, .code-label, .mono {
      font-family: 'JetBrains Mono', monospace !important;
    }
    /* –í–µ—Å—å –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç ‚Äî Inter */
    p, li, .step-desc, .stat-desc, .doc-summary, .doc-title,
    .form-sub, .left-meta, .field label, input, textarea, select,
    .notif-desc, .ind-desc, .step-text, .nav-links a {
      font-family: 'Inter', system-ui, sans-serif !important;
      letter-spacing: 0.01em;
    }
    /* –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ */
    .stat-label { font-size: 12px !important; letter-spacing: 0.08em !important; }
    .doc-source { font-size: 11px !important; }
    .filter-btn { font-size: 12px !important; }
    input, .field input { font-size: 14px !important; letter-spacing: 0 !important; }
    .nav-links a { font-size: 13px !important; letter-spacing: 0.06em !important; }
    .form-sub { font-size: 15px !important; font-family: 'Inter', sans-serif !important; letter-spacing: 0 !important; }
    /* stat value –∫—Ä—É–ø–Ω–µ–µ */
    .stat-value { font-size: clamp(36px, 5vw, 56px) !important; }
    /* doc title —á–∏—Ç–∞–µ–º–æ—Å—Ç—å */
    .doc-title { font-size: 16px !important; font-weight: 600 !important; line-height: 1.4 !important; }
    .doc-summary { font-size: 14px !important; line-height: 1.7 !important; color: rgba(245,242,235,0.65) !important; }
    /* source bar */
    .source-name { font-size: 13px !important; }
    .source-count { font-size: 22px !important; }

  
  /* ‚îÄ‚îÄ –ú–ê–°–®–¢–ê–ë 125% ‚îÄ‚îÄ */
  html {
    font-size: 150%;
  }

  /* ‚îÄ‚îÄ –ü–ï–†–ï–•–û–î–´ –ú–ï–ñ–î–£ –°–¢–†–ê–ù–ò–¶–ê–ú–ò ‚îÄ‚îÄ */
  body { opacity: 1; transition: opacity 0.25s ease; }
  body.page-exit { opacity: 0; }

</style>
</head>
<body>

<header>
  <a href="index.html" class="logo"><span class="logo-dot"></span>ComplianceRadar</a>
  <div class="progress-wrap">
    <div class="progress-step active" id="pr1"><div class="step-dot" id="pd1">1</div><span>–û—Ç—Ä–∞—Å–ª—å</span></div>
    <div class="progress-line"></div>
    <div class="progress-step" id="pr2"><div class="step-dot" id="pd2">2</div><span>–¢–µ–º—ã</span></div>
    <div class="progress-line"></div>
    <div class="progress-step" id="pr3"><div class="step-dot" id="pd3">3</div><span>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span></div>
  </div>
</header>

<div class="main">
  <!-- STEP 1 -->
  <div class="step-panel active" id="step1">
    <div class="step-tag">–®–∞–≥ 1 –∏–∑ 3</div>
    <h2 class="step-title">–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ç—Ä–∞—Å–ª—å<br>–≤–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏</h2>
    <p class="step-sub">–ù–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–≥–æ –º—ã –ø—Ä–µ–¥–ª–æ–∂–∏–º —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ç–µ–º—ã –∏ –Ω–∞—Å—Ç—Ä–æ–∏–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ–¥ –≤–∞—à—É —Å—Ñ–µ—Ä—É.</p>
    <div class="industry-grid">
      <div class="industry-card" onclick="selectIndustry('bank',this)"><div class="ind-icon"><svg viewBox="0 0 24 24" style="width:26px;height:26px;stroke:var(--gold);fill:none;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round"><path d="M3 21h18M3 10h18M5 6l7-3 7 3M4 10v11M20 10v11M8 10v11M12 10v11M16 10v11"/></svg></div><div class="ind-name">–ë–∞–Ω–∫–∏ –∏ —Ñ–∏–Ω—Ç–µ—Ö</div><div class="ind-desc">–¶–ë –†–§ ¬∑ Basel III ¬∑ –ê–ú–õ ¬∑ –ù1.1 ¬∑ –ù–æ—Ä–º–∞—Ç–∏–≤—ã –∫–∞–ø–∏—Ç–∞–ª–∞</div></div>
      <div class="industry-card" onclick="selectIndustry('insurance',this)"><div class="ind-icon"><svg viewBox="0 0 24 24" style="width:26px;height:26px;stroke:var(--gold);fill:none;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round"><path d="M12 3l8 4v5c0 5-4 9-8 10C8 21 4 17 4 12V7z"/><path d="M9 12l2 2 4-4"/></svg></div><div class="ind-name">–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ</div><div class="ind-desc">–¶–ë –†–§ ¬∑ –û–°–ê–ì–û ¬∑ Solvency ¬∑ –¢–∞—Ä–∏—Ñ–Ω–æ–µ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ</div></div>
      <div class="industry-card" onclick="selectIndustry('telecom',this)"><div class="ind-icon"><svg viewBox="0 0 24 24" style="width:26px;height:26px;stroke:var(--gold);fill:none;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round"><path d="M5 12.55a11 11 0 0 1 14.08 0"/><path d="M1.42 9a16 16 0 0 1 21.16 0"/><path d="M8.53 16.11a6 6 0 0 1 6.95 0"/><circle cx="12" cy="20" r="1" fill="var(--gold)"/></svg></div><div class="ind-name">–¢–µ–ª–µ–∫–æ–º –∏ IT</div><div class="ind-desc">152-–§–ó ¬∑ –†–æ—Å–∫–æ–º–Ω–∞–¥–∑–æ—Ä ¬∑ –°–û–†–ú ¬∑ –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö</div></div>
      <div class="industry-card" onclick="selectIndustry('retail',this)"><div class="ind-icon"><svg viewBox="0 0 24 24" style="width:26px;height:26px;stroke:var(--gold);fill:none;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></svg></div><div class="ind-name">–†–∏—Ç–µ–π–ª –∏ FMCG</div><div class="ind-desc">–§–ê–° ¬∑ –ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ ¬∑ –†–æ—Å–ø–æ—Ç—Ä–µ–±–Ω–∞–¥–∑–æ—Ä ¬∑ –¢–æ—Ä–≥–æ–≤–ª—è</div></div>
      <div class="industry-card" onclick="selectIndustry('pharma',this)"><div class="ind-icon"><svg viewBox="0 0 24 24" style="width:26px;height:26px;stroke:var(--gold);fill:none;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round"><path d="M10.5 20.5 3.5 13.5a5 5 0 0 1 7.07-7.07l7 7a5 5 0 0 1-7.07 7.07z"/><path d="M8.5 8.5l7 7"/></svg></div><div class="ind-name">–§–∞—Ä–º–∞—Ü–µ–≤—Ç–∏–∫–∞</div><div class="ind-desc">–†–æ—Å–∑–¥—Ä–∞–≤–Ω–∞–¥–∑–æ—Ä ¬∑ –ñ–ù–í–õ–ü ¬∑ GMP ¬∑ –õ–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏–µ</div></div>
      <div class="industry-card" onclick="selectIndustry('construction',this)"><div class="ind-icon"><svg viewBox="0 0 24 24" style="width:26px;height:26px;stroke:var(--gold);fill:none;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round"><path d="M2 20h20M4 20V10M20 20V10M12 20V4M4 10l8-6 8 6"/></svg></div><div class="ind-name">–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ</div><div class="ind-desc">214-–§–ó ¬∑ –†–æ—Å—Ä–µ–µ—Å—Ç—Ä ¬∑ –°–ù–∏–ü ¬∑ –î–æ–ª–µ–≤–æ–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ</div></div>
      <div class="industry-card" onclick="selectIndustry('energy',this)"><div class="ind-icon"><svg viewBox="0 0 24 24" style="width:26px;height:26px;stroke:var(--gold);fill:none;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round"><path d="M13 2L4.5 13H12l-1 9 8.5-11H12z"/></svg></div><div class="ind-name">–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞</div><div class="ind-desc">–†–æ—Å—Ç–µ—Ö–Ω–∞–¥–∑–æ—Ä ¬∑ –§–°–¢–≠–ö ¬∑ –ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</div></div>
      <div class="industry-card" onclick="selectIndustry('manufacturing',this)"><div class="ind-icon">üè≠</div><div class="ind-name">–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ</div><div class="ind-desc">–†–æ—Å—Ç–µ—Ö–Ω–∞–¥–∑–æ—Ä ¬∑ –†–æ—Å–ø–æ—Ç—Ä–µ–±–Ω–∞–¥–∑–æ—Ä ¬∑ –¢–ö –†–§ ¬∑ –≠–∫–æ–ª–æ–≥–∏—è</div></div>
      <div class="industry-card" onclick="selectIndustry('other',this)"><div class="ind-icon">üè¢</div><div class="ind-name">–î—Ä—É–≥–æ–µ / –•–æ–ª–¥–∏–Ω–≥</div><div class="ind-desc">–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö –∫–ª—é—á–µ–≤—ã—Ö —Ä–µ–≥—É–ª—è—Ç–æ—Ä–æ–≤</div></div>
    </div>
  </div>

  <!-- STEP 2 -->
  <div class="step-panel" id="step2">
    <div class="step-tag">–®–∞–≥ 2 –∏–∑ 3</div>
    <h2 class="step-title">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—ã<br>–¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞</h2>
    <p class="step-sub">–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ–º—ã –ø–æ–¥–æ–±—Ä–∞–Ω—ã –ø–æ –≤–∞—à–µ–π –æ—Ç—Ä–∞—Å–ª–∏. –î–æ–±–∞–≤—å—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.</p>
    <div class="tags-section">
      <div class="recommended-label">–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–ª—è –≤–∞—à–µ–π –æ—Ç—Ä–∞—Å–ª–∏</div>
      <div class="tags-grid" id="recommendedTags"></div>
    </div>
    <div class="tags-section" style="margin-top:32px;">
      <span class="tags-label">–í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ–º—ã</span>
      <div class="tags-grid" id="allTags"></div>
    </div>
    <div class="selected-summary" id="selectedSummary" style="display:none;">
      <div class="summary-label">–í—ã–±—Ä–∞–Ω–æ —Ç–µ–º: <span id="tagsCount">0</span></div>
      <div class="summary-tags" id="summaryTags"></div>
    </div>
  </div>

  <!-- STEP 3 -->
  <div class="step-panel" id="step3">
    <div class="step-tag">–®–∞–≥ 3 –∏–∑ 3</div>
    <h2 class="step-title">–ö–∞–∫ –ø–æ–ª—É—á–∞—Ç—å<br>—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è?</h2>
    <p class="step-sub">–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞–Ω–∞–ª–æ–≤. –ò–∑–º–µ–Ω–∏—Ç—å –º–æ–∂–Ω–æ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ—Ñ–∏–ª—è.</p>
    <div class="notif-grid">
      <div class="notif-card selected" onclick="toggleNotif('email',this)"><div class="notif-icon"><svg viewBox="0 0 24 24" style="width:26px;height:26px;stroke:var(--gold);fill:none;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round"><rect x="3" y="5" width="18" height="14" rx="2"/><path d="M3 7l9 6 9-6"/></svg></div><div class="notif-name">Email</div><div class="notif-desc">–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –∞–ª–µ—Ä—Ç –Ω–∞ —Ä–∞–±–æ—á–∏–π email –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞</div></div>
      <div class="notif-card" onclick="toggleNotif('digest',this)"><div class="notif-icon"><svg viewBox="0 0 24 24" style="width:26px;height:26px;stroke:var(--gold);fill:none;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round"><rect x="5" y="2" width="14" height="20" rx="2"/><path d="M9 7h6M9 11h6M9 15h4"/></svg></div><div class="notif-name">PDF-–¥–∞–π–¥–∂–µ—Å—Ç</div><div class="notif-desc">–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π —Å–≤–æ–¥–Ω—ã–π –æ—Ç—á—ë—Ç —Å —Ä–µ–∑—é–º–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π</div></div>
      <div class="notif-card" onclick="toggleNotif('telegram',this)"><div class="notif-icon">‚úàÔ∏è</div><div class="notif-name">Telegram</div><div class="notif-desc">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram-–±–æ—Ç ‚Äî –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –≤ —Å–º–∞—Ä—Ç—Ñ–æ–Ω</div></div>
      <div class="notif-card" onclick="toggleNotif('webhook',this)"><div class="notif-icon">üîó</div><div class="notif-name">–í–µ–±—Ö—É–∫ / API</div><div class="notif-desc">POST-–∑–∞–ø—Ä–æ—Å –Ω–∞ –≤–∞—à URL ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—É—é —Å–∏—Å—Ç–µ–º—É</div></div>
    </div>
    <div class="tags-section">
      <span class="tags-label" style="display:block;margin-bottom:12px;">–ß–∞—Å—Ç–æ—Ç–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</span>
      <div style="display:flex;gap:8px;flex-wrap:wrap;">
        <button class="tag-btn selected" onclick="selectFreq('instant',this)" id="freq-instant">–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ</button>
        <button class="tag-btn" onclick="selectFreq('daily',this)" id="freq-daily">–†–∞–∑ –≤ –¥–µ–Ω—å</button>
        <button class="tag-btn" onclick="selectFreq('weekly',this)" id="freq-weekly">–†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é</button>
      </div>
    </div>
  </div>
</div>

<div class="bottom-nav">
  <span class="nav-hint" id="navHint">–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ç—Ä–∞—Å–ª—å —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å</span>
  <div class="nav-btns">
    <button class="btn-back" id="backBtn" style="display:none" onclick="prevStep()">‚Üê –ù–∞–∑–∞–¥</button>
    <button class="btn-next" id="nextBtn" onclick="nextStep()" disabled><span id="nextLabel">–î–∞–ª–µ–µ ‚Üí</span></button>
  </div>
</div>

<script>
  const API = 'https://fnsbot-production.up.railway.app';
  const token = localStorage.getItem('cr_token');
  if (!token) window.location.href = 'login.html';

  let currentStep = 1;
  let selectedIndustry = null;
  let selectedTags = new Set();
  let selectedNotifs = new Set(['email']);
  let selectedFreq = 'instant';

  const INDUSTRY_TAGS = {
    bank:         ['–¶–ë –†–§','–ù1.1','Basel III','–ê–ú–õ','115-–§–ó','–ü–°–î','–ú–§–û','–õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å','–ö–∞–ø–∏—Ç–∞–ª','–î–ö–û'],
    insurance:    ['–¶–ë –†–§','–û–°–ê–ì–û','Solvency II','–°—Ç—Ä–∞—Ö–æ–≤—ã–µ —Ä–µ–∑–µ—Ä–≤—ã','–¢–∞—Ä–∏—Ñ–Ω–æ–µ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ','–û–ú–°','–õ–∏—Ü–µ–Ω–∑–∏—è'],
    telecom:      ['152-–§–ó','–†–æ—Å–∫–æ–º–Ω–∞–¥–∑–æ—Ä','–°–û–†–ú','–°—É–≤–µ—Ä–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç','–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö','–ü–µ—Ä—Å–¥–∞–Ω–Ω—ã–µ','–§–ê–°'],
    retail:       ['–§–ê–°','–ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞','–†–æ—Å–ø–æ—Ç—Ä–µ–±–Ω–∞–¥–∑–æ—Ä','–¢–æ—Ä–≥–æ–≤–ª—è','381-–§–ó','–¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ','–ö–æ–ê–ü','–ß–µ—Å—Ç–Ω—ã–π –∑–Ω–∞–∫'],
    pharma:       ['–†–æ—Å–∑–¥—Ä–∞–≤–Ω–∞–¥–∑–æ—Ä','–ñ–ù–í–õ–ü','GMP','–õ–∏—Ü–µ–Ω–∑–∏—è','–ö–ª–∏–Ω–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—ã—Ç–∞–Ω–∏—è','–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–µ–ø–∞—Ä–∞—Ç–æ–≤'],
    construction: ['214-–§–ó','–†–æ—Å—Ä–µ–µ—Å—Ç—Ä','–°–ù–∏–ü','–î–æ–ª–µ–≤–æ–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ','–≠—Å–∫—Ä–æ—É','–ó–µ–º–µ–ª—å–Ω—ã–π –∫–æ–¥–µ–∫—Å'],
    energy:       ['–†–æ—Å—Ç–µ—Ö–Ω–∞–¥–∑–æ—Ä','–§–°–¢–≠–ö','–ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å','–õ–∏—Ü–µ–Ω–∑–∏—è','–¢–∞—Ä–∏—Ñ—ã','–≠–Ω–µ—Ä–≥–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å'],
    manufacturing:['–†–æ—Å—Ç–µ—Ö–Ω–∞–¥–∑–æ—Ä','–†–æ—Å–ø–æ—Ç—Ä–µ–±–Ω–∞–¥–∑–æ—Ä','–¢–ö –†–§','–û—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞','–≠–∫–æ–ª–æ–≥–∏—è','–ö–æ–ê–ü','–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è'],
    other:        ['–§–ù–°','–¶–ë –†–§','–†–æ—Å–∫–æ–º–Ω–∞–¥–∑–æ—Ä','–§–ê–°','–ú–∏–Ω—Ñ–∏–Ω','–ù–ö –†–§','–¢–ö –†–§'],
  };

  const ALL_TAGS = ['–ù–ö –†–§','–§–ù–°','–ù–î–°','–ù–∞–ª–æ–≥ –Ω–∞ –ø—Ä–∏–±—ã–ª—å','–ù–î–§–õ','–£–°–ù','–¢–ö –†–§','–ú–†–û–¢','–û—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞',
    '–ö–æ–ê–ü','44-–§–ó','223-–§–ó','–¢–µ–Ω–¥–µ—Ä','–ì–æ—Å–∑–∞–∫—É–ø–∫–∏','ESG','–§–°–ë–£','–ë—É—Ö—É—á—ë—Ç','–ê—É–¥–∏—Ç','–ë–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ',
    '–ö–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å','–ê–Ω—Ç–∏–∫–æ—Ä—Ä—É–ø—Ü–∏—è','–í–∞–ª—é—Ç–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å','–ò–Ω—Å–∞–π–¥','–†–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è'];

  function selectIndustry(id, el) {
    document.querySelectorAll('.industry-card').forEach(c => c.classList.remove('selected'));
    el.classList.add('selected');
    selectedIndustry = id;
    document.getElementById('nextBtn').disabled = false;
    document.getElementById('navHint').textContent = '–û—Ç–ª–∏—á–Ω–æ! –ù–∞–∂–º–∏—Ç–µ ¬´–î–∞–ª–µ–µ¬ª —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å —Ç–µ–º—ã';
  }

  function renderRecommendedTags(id) {
    const rec = INDUSTRY_TAGS[id] || [];
    const c = document.getElementById('recommendedTags');
    c.innerHTML = '';
    rec.forEach(tag => {
      const btn = document.createElement('button');
      btn.className = 'tag-btn recommended' + (selectedTags.has(tag) ? ' selected' : '');
      btn.textContent = tag;
      btn.onclick = () => toggleTag(tag, btn);
      c.appendChild(btn);
    });
  }

  function renderAllTags() {
    const c = document.getElementById('allTags');
    c.innerHTML = '';
    ALL_TAGS.forEach(tag => {
      const btn = document.createElement('button');
      btn.className = 'tag-btn' + (selectedTags.has(tag) ? ' selected' : '');
      btn.textContent = tag;
      btn.onclick = () => toggleTag(tag, btn);
      c.appendChild(btn);
    });
  }

  function toggleTag(tag, btn) {
    if (selectedTags.has(tag)) { selectedTags.delete(tag); btn.classList.remove('selected'); }
    else { selectedTags.add(tag); btn.classList.add('selected'); }
    updateTagSummary();
    if (currentStep === 2) {
      document.getElementById('nextBtn').disabled = selectedTags.size === 0;
      document.getElementById('navHint').textContent = selectedTags.size > 0 ? `–í—ã–±—Ä–∞–Ω–æ —Ç–µ–º: ${selectedTags.size}` : '–í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É —Ç–µ–º—É';
    }
  }

  function updateTagSummary() {
    const s = document.getElementById('selectedSummary');
    if (selectedTags.size === 0) { s.style.display = 'none'; return; }
    s.style.display = 'block';
    document.getElementById('tagsCount').textContent = selectedTags.size;
    document.getElementById('summaryTags').innerHTML = [...selectedTags].map(t => `<span class="summary-tag">${t}</span>`).join('');
  }

  function toggleNotif(id, el) {
    if (selectedNotifs.has(id)) {
      if (selectedNotifs.size === 1) return;
      selectedNotifs.delete(id); el.classList.remove('selected');
    } else {
      selectedNotifs.add(id); el.classList.add('selected');
    }
  }

  function selectFreq(id, el) {
    selectedFreq = id;
    document.querySelectorAll('[id^="freq-"]').forEach(b => b.classList.remove('selected'));
    el.classList.add('selected');
  }

  function nextStep() {
    if (currentStep === 3) { saveAndFinish(); return; }
    if (currentStep === 1 && selectedTags.size === 0) {
      const rec = INDUSTRY_TAGS[selectedIndustry] || [];
      rec.slice(0, 4).forEach(t => selectedTags.add(t));
    }
    currentStep++;
    updateUI();
  }

  function prevStep() { currentStep--; updateUI(); }

  function updateUI() {
    document.querySelectorAll('.step-panel').forEach((p, i) => p.classList.toggle('active', i + 1 === currentStep));
    for (let i = 1; i <= 3; i++) {
      const prEl = document.getElementById(`pr${i}`);
      const pdEl = document.getElementById(`pd${i}`);
      if (i < currentStep) { prEl.className = 'progress-step done'; pdEl.textContent = '‚úì'; }
      else if (i === currentStep) { prEl.className = 'progress-step active'; pdEl.textContent = i; }
      else { prEl.className = 'progress-step'; pdEl.textContent = i; }
    }
    document.getElementById('backBtn').style.display = currentStep > 1 ? 'block' : 'none';
    if (currentStep === 2) {
      renderRecommendedTags(selectedIndustry);
      renderAllTags();
      updateTagSummary();
      document.getElementById('nextBtn').disabled = selectedTags.size === 0;
      document.getElementById('navHint').textContent = selectedTags.size > 0 ? `–í—ã–±—Ä–∞–Ω–æ —Ç–µ–º: ${selectedTags.size}` : '–í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É —Ç–µ–º—É';
      document.getElementById('nextLabel').textContent = '–î–∞–ª–µ–µ ‚Üí';
    } else if (currentStep === 3) {
      document.getElementById('nextBtn').disabled = false;
      document.getElementById('navHint').textContent = '–ü–æ—á—Ç–∏ –≥–æ—Ç–æ–≤–æ! –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–Ω–∞–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π';
      document.getElementById('nextLabel').textContent = '–ó–∞–≤–µ—Ä—à–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É ‚Üí';
    } else {
      document.getElementById('nextBtn').disabled = !selectedIndustry;
      document.getElementById('navHint').textContent = '–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ç—Ä–∞—Å–ª—å —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å';
      document.getElementById('nextLabel').textContent = '–î–∞–ª–µ–µ ‚Üí';
    }
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  async function saveAndFinish() {
    const btn = document.getElementById('nextBtn');
    btn.disabled = true;
    document.getElementById('nextLabel').textContent = '–°–æ—Ö—Ä–∞–Ω—è–µ–º...';

    try {
      const res = await fetch(`${API}/auth/onboarding`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${token}` },
        body: JSON.stringify({
          industry: selectedIndustry,
          tags: [...selectedTags],
          notifications: [...selectedNotifs],
          frequency: selectedFreq
        })
      });

      if (res.ok) {
        const data = await res.json();
        localStorage.setItem('cr_user', JSON.stringify(data.user));
      }
    } catch {}

    // –ü–µ—Ä–µ–¥–∞—ë–º –æ—Ç—Ä–∞—Å–ª—å –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ URL-–ø–∞—Ä–∞–º–µ—Ç—Ä
    const industry = selectedIndustry || '';
    const industryParam = industry ? `?industry=${encodeURIComponent(industry)}` : '';
    window.location.href = `monitoring.html${industryParam}`;
  }
</script>
</body>
</html>
